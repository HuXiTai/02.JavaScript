<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body>
    <input id="ipt" />
    <script type="text/javascript">
      //1:定义一个高频触发事件和事件处理函数
      //2:封装一个防抖函数debounce,传一个事件处理函数f和间隔时间delay
      //3:写一个返回函数:先清除定时器,在设置定时器,改变this指向并调用函数
      var ipt = document.querySelector("#ipt");
      ipt.oninput = debounce(fn, 500);
      function fn(e) {
        console.log("搜索:" + ipt.value);
      }
      function debounce(f, delay) {
        var timer;
        return function ff(e) {
          clearTimeout(timer);
          var _this = this;
          timer = setTimeout(function () {
            f.call(_this, e);
          }, delay);
        };
      }
    </script>
  </body>
</html>
