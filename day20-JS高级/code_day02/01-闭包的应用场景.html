<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<ul>
			<li>li-1</li>
			<li>li-2</li>
			<li>li-3</li>
		</ul>
		<script type="text/javascript">
			var lis = document.querySelectorAll("li");
			for (var i = 0; i < lis.length; i++) {
				// 添加一个立即执行函数，传入i变量，内部的函数可以访问外部函数的变量i
				(function(i) {
					lis[i].onclick = function() {
						console.log("当前点击了第" + i + "个li");
					}
				})(i);
			}
			
			// 和定时任务配合使用，当使用i值的时候for循环已经遍历结束了，通过在定时任务的外边加一个立即调用函数，让它形成一个闭包。
			for(var i  = 0; i < lis.length; i++){
				(function(i){
					setTimeout(function(){
						console.log(lis[i].innerHTML);
					},3000)
				})(i);
			}
		</script>
	</body>
</html>
